---
title: "10-28-19 part 3 analysis"
author: "Megan Beaudry"
date: "10/29/2019"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
library(ggplot2)
library(ggthemes)
library(RColorBrewer)
library(dplyr)
library(caret)
library(tidyverse)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
```{r}
clean_water_quality_data <- readRDS("../../data/processed_data/clean_water_quality_data.rds")
```

## Univariate analysis
_Use a combination of text/tables/figures to explore and describe your data. You should produce plots or tables or other summary quantities for most of your variables. You definitely need to do it for the important variables, i.e. if you have main exposure or outcome variables, those need to be explored. Depending on the total number of variables in your dataset, explore all or some of the others._

```{r}
#going to rename to a new dataframe here
new_wq <- clean_water_quality_data
new_wq$arco_new <- new_wq$A_butzleri_HSP60
unique(new_wq$arco_new)
str(new_wq)
```
```{r}
#didnt work
new_wq$arco_new[which(new_wq$arco_new=="3.391993")] <- "0"
new_wq$arco_new <- as.logical(as.numeric(new_wq$arco_new))
```



```{r}
i <- new_wq$arco_new

if (i > 3.391993){
  print("Yes")
} else {
  print("No") 
}
```

```{r}
new_wq_2 <- new_wq %>%
  dplyr::mutate(arco_new = recode(arco_new, "3.391993" = "0" , "3.693023" = "1", "3.316096" = "1", "4.368659" = "1", "4.283681" = "1", "3.299289" = "1", "3.869818" = "1", "4.383025" = "1", "4.112404" = "1", 3.979002 4.172147 3.423574
 [13] 4.964410 3.677424 4.133411 3.940118 4.549077 4.807535 5.000522 3.671747 4.060388 4.037148 4.281111 3.810609
 [25] 4.207322 3.434345 3.757290 3.415140 3.963948 4.335562 4.378710 4.374858 4.295717 4.364660 4.091597 4.016699
 [37] 3.541579 4.530891 4.453012 4.242939 4.130527 4.263731 4.430978 3.953953 3.826593 3.887054 3.836197 3.646796
 [49] 3.657820 3.959709 3.493319 4.116608 3.835056 3.686636 3.871573 4.284372 4.423092 3.734224 3.438257 4.123329
 [61] 3.645029 3.767156 3.872972 4.093912 4.655004 3.857694 3.466571 3.658965 3.422590 3.744293 3.651472 3.697752
 [73] 3.970440 3.316599 3.594393 3.497565 3.800703 3.678300 3.379124 3.709049 3.296928 3.446537 4.766889 4.294025
 [85] 3.617000 3.491726 4.465680 3.309630 3.509740 4.040484 4.214505 3.875686 3.273696 4.558310 3.627755 4.193125
 [97] 3.952792 3.584263 4.155221 4.166004))
  
```


```{r}
#add a new column
arco_by_site <- c()
#first lets add a virable using mutate
new_wq <- mutate(new_wq, arco_by_site = A_butzleri_HSP60/Sampling_Site)
clean_water_quality_data$percent_arco_site <- clean_water_quality_data$A_butzleri_HSP60/clean_water_quality_data$Sampling_Site
arcobacter_summary_table <- table(clean_water_quality_data$Sampling_Site, clean_water_quality_data$A_butzleri_HSP60)
arcobacter_summary_table
```



## Bivariate analysis
_Create plots or tables and compute simple statistics (e.g. t-tests, simple regression model with 1 predictor, etc.) to look for associations between your outcome(s) and each individual predictor variable_


## Full analysis
_Use one or several suitable statistical/machine learning methods to analyze your data and to produce meaningful figures, tables, etc. This might again be code that is best placed in one or several separate R scripts that need to be well documented. You can then load the results produced by this code_